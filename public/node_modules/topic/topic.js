(function(){
    var app = angular.module('topic', ['form-comment']);

    app.directive('topic', function(){
        return {
            restrict: 'E',
            templateUrl: 'node_modules/topic/topic.html',
            controller: function(){
                this.topic = Topic;
                this.addLike = function(){
                    this.topic.like++;
                };
                this.addDislike = function(){
                    this.topic.dislike++;
                };
            },
            controllerAs: 't'
        };
    });
        
    var Topic = {
        title: "Primo topic",
        subtitle: "Sottotitolo del primo topic",
        text: "Testo del primo topic",
        author: "Mattia Buffa",
        createdOn: 1397490980837,
        comments: [
            {
                text: "Primo commento del topic 1",
                author: "Qualcuno",
                createdOn: 1397490980837
            },
            {
                text: "Secondo commento del topic 1",
                author: "Qualcuno2",
                createdOn: 1397590981837
            }
                  ],
        like: 1,
        dislike: 0
    };
    
})();